<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administraci√≥n - PowerMarket</title>
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../../css/components.css">
</head>
<body class="admin-page">
    <!-- Header de administraci√≥n -->
    <header class="header admin-header">
        <div class="container">
            <div class="logo">
                <a href="../../index.html" style="text-decoration: none; color: inherit;">
                    <h1>‚ö° PowerMarket <span class="admin-badge">Admin</span></h1>
                </a>
            </div>
            <nav class="user-menu">
                <span id="admin-welcome">Panel de Control</span>
                <a href="../user-profile.html">üë§ Mi Perfil</a>
                <a href="#" onclick="logout()">üö™ Cerrar Sesi√≥n</a>
            </nav>
        </div>
    </header>

    <!-- Sidebar de administraci√≥n -->
    <div class="admin-layout">
        <aside class="admin-sidebar">
            <nav class="sidebar-nav">
                <div class="sidebar-header">
                    <h3>Panel de Control</h3>
                </div>
                <ul class="sidebar-menu">
                    <li class="menu-item active">
                        <a href="dashboard.html" class="menu-link">
                            <span class="menu-icon">üìä</span>
                            <span class="menu-text">Dashboard</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="products.html" class="menu-link">
                            <span class="menu-icon">‚ö°</span>
                            <span class="menu-text">Gesti√≥n de Poderes</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="orders.html" class="menu-link">
                            <span class="menu-icon">üì¶</span>
                            <span class="menu-text">√ìrdenes</span>
                            <span class="menu-badge" id="pending-orders-badge">0</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="users.html" class="menu-link">
                            <span class="menu-icon">üë•</span>
                            <span class="menu-text">Usuarios</span>
                            <span class="menu-badge" id="total-users-badge">0</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="categories.html" class="menu-link">
                            <span class="menu-icon">üìÅ</span>
                            <span class="menu-text">Categor√≠as</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="reports.html" class="menu-link">
                            <span class="menu-icon">üìà</span>
                            <span class="menu-text">Reportes</span>
                        </a>
                    </li>
                    <li class="menu-section">
                        <span class="section-label">Configuraci√≥n</span>
                    </li>
                    <li class="menu-item">
                        <a href="settings.html" class="menu-link">
                            <span class="menu-icon">‚öôÔ∏è</span>
                            <span class="menu-text">Ajustes</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Contenido principal -->
        <main class="admin-content">
            <div class="admin-container">
                <!-- Header del dashboard -->
                <div class="admin-header-content">
                    <h1>üìä Dashboard de Administraci√≥n</h1>
                    <p>Resumen general y m√©tricas del sistema</p>
                    <div class="header-actions">
                        <div class="date-filter">
                            <label for="date-range">Per√≠odo:</label>
                            <select id="date-range" onchange="updateDashboard()">
                                <option value="today">Hoy</option>
                                <option value="week">Esta semana</option>
                                <option value="month" selected>Este mes</option>
                                <option value="quarter">Este trimestre</option>
                                <option value="year">Este a√±o</option>
                                <option value="custom">Personalizado</option>
                            </select>
                        </div>
                        <button class="btn btn-primary" onclick="exportReport()">
                            üì• Exportar Reporte
                        </button>
                    </div>
                </div>

                <!-- M√©tricas principales -->
                <div class="metrics-grid">
                    <div class="metric-card revenue">
                        <div class="metric-icon">üí∞</div>
                        <div class="metric-info">
                            <span class="metric-value" id="total-revenue">--</span>
                            <span class="metric-label">Ingresos Totales</span>
                            <span class="metric-change" id="revenue-change">--</span>
                        </div>
                    </div>
                    
                    <div class="metric-card orders">
                        <div class="metric-icon">üì¶</div>
                        <div class="metric-info">
                            <span class="metric-value" id="total-orders">--</span>
                            <span class="metric-label">√ìrdenes Totales</span>
                            <span class="metric-change" id="orders-change">--</span>
                        </div>
                    </div>
                    
                    <div class="metric-card users">
                        <div class="metric-icon">üë•</div>
                        <div class="metric-info">
                            <span class="metric-value" id="total-users">--</span>
                            <span class="metric-label">Usuarios Registrados</span>
                            <span class="metric-change" id="users-change">--</span>
                        </div>
                    </div>
                    
                    <div class="metric-card products">
                        <div class="metric-icon">‚ö°</div>
                        <div class="metric-info">
                            <span class="metric-value" id="total-products">--</span>
                            <span class="metric-label">Poderes Activos</span>
                            <span class="metric-change" id="products-change">--</span>
                        </div>
                    </div>
                </div>

                <!-- Gr√°ficos y estad√≠sticas -->
                <div class="charts-grid">
                    <!-- Gr√°fico de ingresos -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>üí∞ Ingresos por Mes</h3>
                            <div class="chart-actions">
                                <button class="btn-chart active" data-chart="revenue">Ingresos</button>
                                <button class="btn-chart" data-chart="orders">√ìrdenes</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <div class="chart-placeholder" id="revenue-chart">
                                <div class="chart-bars">
                                    <div class="chart-bar" style="height: 80%"></div>
                                    <div class="chart-bar" style="height: 60%"></div>
                                    <div class="chart-bar" style="height: 90%"></div>
                                    <div class="chart-bar" style="height: 70%"></div>
                                    <div class="chart-bar" style="height: 85%"></div>
                                    <div class="chart-bar" style="height: 95%"></div>
                                </div>
                                <div class="chart-labels">
                                    <span>Ene</span><span>Feb</span><span>Mar</span>
                                    <span>Abr</span><span>May</span><span>Jun</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- M√©tricas de productos -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>üî• Poderes M√°s Vendidos</h3>
                        </div>
                        <div class="top-products" id="top-products">
                            <!-- Los productos se cargar√°n con JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Actividad reciente -->
                <div class="activity-section">
                    <div class="section-header">
                        <h3>üìà Actividad Reciente</h3>
                        <button class="btn btn-outline" onclick="viewAllActivity()">
                            Ver Todo
                        </button>
                    </div>
                    <div class="activity-timeline" id="recent-activity">
                        <!-- La actividad se cargar√° con JavaScript -->
                    </div>
                </div>

                <!-- Alertas y notificaciones -->
                <div class="alerts-section">
                    <div class="section-header">
                        <h3>‚ö†Ô∏è Alertas del Sistema</h3>
                    </div>
                    <div class="alerts-grid" id="system-alerts">
                        <!-- Las alertas se cargar√°n con JavaScript -->
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Footer de administraci√≥n -->
    <footer class="footer admin-footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2024 PowerMarket - Panel de Administraci√≥n</p>
                <span id="server-status" class="status-online">üü¢ Sistema en l√≠nea</span>
            </div>
        </div>
    </footer>

    <!-- Modal de carga -->
    <div id="admin-loading" class="admin-loading" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>Cargando datos del dashboard...</p>
        </div>
    </div>

    <!-- Scripts -->
     <script src="../../js/logout.js"></script>
    <script src="../../js/data.js"></script>
    <script src="../../js/utils.js"></script>
    <script src="../../js/components.js"></script>
    <script src="../../js/admin-dashboard.js"></script>
</body>
</html>